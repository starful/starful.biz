{% extends "base.html" %}

{% block head %}
<title>{{ category.title }}の職種一覧 | Starful</title>
<meta name="description" content="{{ category.title }}分野の様々なキャリアオプションをご覧ください。">
{% endblock %}

<!-- ✨ [SEO] 카테고리 페이지용 오픈 그래프 태그 설정 -->
{% block og_title %}{{ category.title }}の職種一覧 | Starful{% endblock %}
{% block og_description %}{{ category.description }}{% endblock %}
{% if category.image and category.image != '/static/img/placeholder.jpg' %}
{% block og_image %}{{ request.url.scheme }}://{{ request.url.netloc }}{{ category.image }}{% endblock %}
{% endif %}

{% block content %}
<header class="hero-section fade-in-element" style="padding-bottom: 40px;">
    <a href="/" style="color: var(--text-sub); display: inline-block; margin-bottom: 20px; font-weight: 600;">&larr; 全てのカテゴリに戻る</a>
    <h1 class="hero-title" style="font-size: clamp(2rem, 5vw, 3.5rem); margin-bottom: 20px;">{{ category.title }}</h1>
    <p class="hero-desc" style="font-size: 1.1rem; max-width: 700px; margin-left: auto; margin-right: auto;">{{ category.description }}</p>
</header>

<main class="bento-grid" style="grid-template-columns: repeat(2, 1fr); grid-auto-rows: 350px;">
    {% if items %}
        {% for item in items %}
            <a href="/career/{{ item.id }}" class="bento-item bento-small fade-in-element {% if item.thumbnail and item.thumbnail != '/static/img/placeholder.jpg' %}has-image{% endif %}">
                {% if item.thumbnail and item.thumbnail != '/static/img/placeholder.jpg' %}
                <div class="item-img">
                    <img src="{{ item.thumbnail }}" alt="{{ item.title }}" loading="lazy">
                </div>
                {% endif %}
                <div class="item-info">
                    <h3>{{ item.title }}</h3>
                    <p>{{ item.description }}</p>
                </div>
            </a>
        {% endfor %}
    {% else %}
        <p style="grid-column: 1 / -1; text-align: center; padding: 80px; color: var(--text-sub); font-size: 1.2rem;">
            このカテゴリにはまだ職種が登録されていません。
        </p>
    {% endif %}
</main>
{% endblock %}