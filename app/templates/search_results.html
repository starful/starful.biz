{% extends "base.html" %}

{% block head %}
<title>「{{ query }}」の検索結果 | Starful</title>
<meta name="description" content="「{{ query }}」に関する職種ガイドの検索結果です。">
{% endblock %}

{% block content %}
<header class="hero-section fade-in-element" style="padding-bottom: 40px;">
    <!-- 검색 결과에 대한 제목 -->
    <a href="/" style="color: var(--text-sub); display: inline-block; margin-bottom: 20px; font-weight: 600;">&larr; ホームに戻る</a>
    <h1 class="hero-title" style="font-size: clamp(2rem, 5vw, 3.5rem); margin-bottom: 20px;">
        「{{ query }}」の検索結果
    </h1>
    <p class="hero-desc" style="font-size: 1.1rem;">
        {{ results_count }}件のガイドが見つかりました。
    </p>
</header>

<main class="bento-grid" style="grid-template-columns: repeat(2, 1fr); grid-auto-rows: 350px;">
    {% if items %}
        {% for item in items %}
            <a href="/career/{{ item.id }}" class="bento-item bento-small fade-in-element {% if item.thumbnail and item.thumbnail != '/static/img/placeholder.jpg' %}has-image{% endif %}">
                {% if item.thumbnail and item.thumbnail != '/static/img/placeholder.jpg' %}
                <div class="item-img">
                    <img src="{{ item.thumbnail }}" alt="{{ item.title }}" loading="lazy">
                </div>
                {% endif %}
                <div class="item-info">
                    <h3>{{ item.title }}</h3>
                    <p>{{ item.meta_description }}</p>
                </div>
            </a>
        {% endfor %}
    {% else %}
        <!-- 검색 결과가 없을 경우 메시지 표시 -->
        <p style="grid-column: 1 / -1; text-align: center; padding: 80px; color: var(--text-sub); font-size: 1.2rem;">
            関連する職種が見つかりませんでした。<br>別のキーワードでお試しください。
        </p>
    {% endif %}
</main>
{% endblock %}